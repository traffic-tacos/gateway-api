# AWS ElastiCache Configuration
# Use this file when you have VPN or bastion host access to AWS VPC

# Server Configuration
SERVER_PORT=8000
SERVER_ENVIRONMENT=development

# Redis Configuration (AWS ElastiCache)
REDIS_ADDRESS=master.traffic-tacos-redis.w6eqga.apn2.cache.amazonaws.com:6379
# Password will be fetched from Secrets Manager
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=100
REDIS_POOL_TIMEOUT=4s
REDIS_TLS_ENABLED=true
REDIS_PASSWORD_FROM_SECRETS=true

# JWT Configuration - Mock/Test values for local development
JWT_JWKS_ENDPOINT=https://dev-auth.example.com/.well-known/jwks.json
JWT_ISSUER=https://dev-auth.example.com
JWT_AUDIENCE=gateway-api-local
JWT_CACHE_TTL=10m

# Backend API Configuration (Local Services)
BACKEND_RESERVATION_API_BASE_URL=http://localhost:8001
BACKEND_RESERVATION_API_TIMEOUT=600ms
BACKEND_PAYMENT_API_BASE_URL=http://localhost:8003
BACKEND_PAYMENT_API_TIMEOUT=400ms

# Rate Limiting Configuration
RATE_LIMIT_RPS=50
RATE_LIMIT_BURST=100
RATE_LIMIT_WINDOW_SIZE=1s
RATE_LIMIT_ENABLED=true
RATE_LIMIT_EXEMPT_PATHS=/healthz,/readyz,/metrics,/swagger

# Observability Configuration
OBSERVABILITY_METRICS_PATH=/metrics
OBSERVABILITY_OTLP_ENDPOINT=http://localhost:4318
OBSERVABILITY_TRACING_ENABLED=false
OBSERVABILITY_SAMPLE_RATE=1.0

# CORS Configuration
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:5173,http://localhost:8080

# Logging Configuration
LOG_LEVEL=debug
LOG_FORMAT=text

# AWS Configuration (Required)
AWS_REGION=ap-northeast-2
AWS_PROFILE=tacos
AWS_SDK_LOAD_CONFIG=true

# AWS Secrets Manager Configuration
AWS_SECRET_NAME=traffic-tacos/redis/auth-token

# Development Flags
DEVELOPMENT_MODE=true
SKIP_AUTH=false
MOCK_BACKEND=false

# Swagger/API Documentation
SWAGGER_ENABLED=true
SWAGGER_HOST=localhost:8000
SWAGGER_BASE_PATH=/

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
READINESS_CHECK_INTERVAL=10s

# Queue Management
QUEUE_MAX_SIZE=1000
QUEUE_ENTRY_BATCH_SIZE=10
QUEUE_CLEANUP_INTERVAL=1m

# Idempotency Configuration
IDEMPOTENCY_KEY_TTL=5m
IDEMPOTENCY_CONFLICT_RETRY=3